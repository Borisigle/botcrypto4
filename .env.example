NEXT_PUBLIC_API_URL=http://localhost:8000
BACKEND_PORT=8000
FRONTEND_PORT=3000
SYMBOL=BTCUSDT
DEPTH_INTERVAL_MS=100
MAX_QUEUE=5000
LOG_LEVEL=INFO
CONTEXT_HISTORY_DIR=./data/history
CONTEXT_BOOTSTRAP_PREV_DAY=true
CONTEXT_FETCH_MISSING_HISTORY=false
CONTEXT_BACKFILL_TEST_MODE=false

# Price binning configuration
PROFILE_TICK_SIZE=0.1

# Binance API Keys (optional but recommended for higher rate limits)
# To test HMAC authentication, set these and enable test mode:
# BINANCE_API_KEY=your_api_key_here
# BINANCE_API_SECRET=your_api_secret_here
# CONTEXT_BACKFILL_TEST_MODE=true
# Then run: python test_hmac_auth.py

# Timeouts and retries
BINANCE_API_TIMEOUT=30
BACKFILL_MAX_RETRIES=5
BACKFILL_RETRY_BASE=0.5

# Rate limit and circuit breaker settings
# BACKFILL_RATE_LIMIT_THRESHOLD: Number of consecutive 418/429/451 errors to trigger circuit breaker (default: 3)
# BACKFILL_COOLDOWN_SECONDS: How long to sleep when circuit breaker opens (default: 60)
# BACKFILL_PUBLIC_DELAY_MS: Delay between requests when using public endpoints (default: 100ms)
BACKFILL_RATE_LIMIT_THRESHOLD=3
BACKFILL_COOLDOWN_SECONDS=60
BACKFILL_PUBLIC_DELAY_MS=100

# Backfill cache settings (persistent cache to avoid rate limits on resume)
# BACKFILL_CACHE_ENABLED: Enable/disable persistent Parquet cache (default: true)
# BACKFILL_CACHE_DIR: Directory to store cache files (default: ./context_history_dir/backfill_cache)
BACKFILL_CACHE_ENABLED=true
BACKFILL_CACHE_DIR=./context_history_dir/backfill_cache

# Data source configuration
# DATA_SOURCE: Select data source - "binance_ws" (default), "bybit", or "hft_connector"
# Note: When DATA_SOURCE=hft_connector, backfill is automatically disabled
# since the connector feeds live data directly
# When DATA_SOURCE=bybit, Bybit REST API will be used for backfill
DATA_SOURCE=binance_ws

# HFT Connector settings (used when DATA_SOURCE=hft_connector)
# CONNECTOR_NAME: Name of the connector (e.g., "binance_hft", "deribit_hft")
# CONNECTOR_POLL_INTERVAL_MS: Poll interval for connector events (default: 100ms)
# CONNECTOR_PAPER_TRADING: Paper trading mode toggle (default: true)
# CONNECTOR_NAME=binance_hft
# CONNECTOR_POLL_INTERVAL_MS=100
# CONNECTOR_PAPER_TRADING=true

# Bybit API configuration (for Bybit backfill)
# To enable Bybit backfill, set DATA_SOURCE=bybit and optionally provide API credentials
# BYBIT_API_KEY=your_bybit_api_key_here
# BYBIT_API_SECRET=your_bybit_api_secret_here
# BYBIT_REST_BASE_URL=https://api.bybit.com
# BYBIT_API_TIMEOUT=30
# BYBIT_BACKFILL_MAX_RETRIES=5
# BYBIT_BACKFILL_RETRY_BASE=0.5
# BYBIT_BACKFILL_RATE_LIMIT_THRESHOLD=3
# BYBIT_BACKFILL_COOLDOWN_SECONDS=60
# BYBIT_BACKFILL_PUBLIC_DELAY_MS=50
# BYBIT_BACKFILL_MAX_CONCURRENT_CHUNKS=8
